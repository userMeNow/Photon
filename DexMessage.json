{
  "namespace": "com.ds",
  "type": "record",
  "name": "DexMessage",
  "doc": "WebSocket packet v1.3.0 â€“ either a list of pairs or a latest-block ping",
  "fields": [
    {
      "name": "schemaVersion",
      "type": "string",
      "doc": "Always \"1.3.0\""
    },
    {
      "name": "type",
      "type": {
        "type": "enum",
        "name": "MessageType",
        "symbols": ["pairs", "latestBlock"]
      }
    },

    {
      "name": "stats",
      "type": [
        "null",
        {
          "type": "record",
          "name": "GlobalStats",
          "fields": [
            { "name": "m5",  "type": "WindowStats" },
            { "name": "h1",  "type": "WindowStats" },
            { "name": "h6",  "type": "WindowStats" },
            { "name": "h24", "type": "WindowStats" }
          ]
        }
      ],
      "default": null
    },

    {
      "name": "pairs",
      "type": [
        "null",
        {
          "type": "array",
          "items": "Pair"
        }
      ],
      "default": null
    },

    { "name": "pairsCount", "type": ["null","long"], "default": null },


    {
      "name": "latestBlock",
      "type": [
        "null",
        {
          "type": "record",
          "name": "LatestBlock",
          "fields": [
            { "name": "blockNumber",     "type": "long"   },
            { "name": "blockTimestamp",  "type": "long"   }
          ]
        }
      ],
      "default": null
    }
  ],

  "types": [

    {
      "type": "record",
      "name": "WindowStats",
      "fields": [
        { "name": "txns",      "type": ["null","long"],   "default": null },
        { "name": "volumeUsd", "type": ["null","double"], "default": null }
      ]
    },

    {
      "type": "record",
      "name": "Token",
      "fields": [
        { "name": "address",     "type": "string" },
        { "name": "name",        "type": "string" },
        { "name": "symbol",      "type": "string" },
        { "name": "decimals",    "type": ["null","int"],    "default": null },
        { "name": "totalSupply", "type": ["null","double"], "default": null }
      ]
    },

    {
      "type": "record",
      "name": "TxnsWindow",
      "fields": [
        { "name": "m5",  "type": "BuysSells" },
        { "name": "h1",  "type": "BuysSells" },
        { "name": "h6",  "type": "BuysSells" },
        { "name": "h24", "type": "BuysSells" }
      ]
    },

    {
      "type": "record",
      "name": "BuysSells",
      "fields": [
        { "name": "buys",  "type": ["null","long"], "default": null },
        { "name": "sells", "type": ["null","long"], "default": null }
      ]
    },

    {
      "type": "record",
      "name": "Liquidity",
      "fields": [
        { "name": "usd",   "type": ["null","double"], "default": null },
        { "name": "base",  "type": ["null","double"], "default": null },
        { "name": "quote", "type": ["null","double"], "default": null }
      ]
    },

    {
      "type": "record",
      "name": "Profile",
      "fields": [
        { "name": "eti",        "type": ["null","boolean"], "default": null },
        { "name": "header",     "type": ["null","boolean"], "default": null },
        { "name": "website",    "type": ["null","string"],  "default": null },
        { "name": "twitter",    "type": ["null","boolean"], "default": null },
        { "name": "discord",    "type": ["null","string"],  "default": null },
        { "name": "linkCount",  "type": ["null","int"],     "default": null },
        { "name": "imgKey",     "type": ["null","string"],  "default": null },
        { "name": "nsfw",       "type": ["null","boolean"], "default": null }
      ]
    },


    {
      "type": "record",
      "name": "Pair",
      "fields": [
        { "name": "chainId",          "type": "int"     },
        { "name": "dexId",            "type": "string"  },
        { "name": "labels",           "type": { "type": "array", "items": "string" } },
        { "name": "pairAddress",      "type": "string"  },

        { "name": "baseToken",        "type": "Token"   },
        { "name": "quoteToken",       "type": "Token"   },
        { "name": "quoteTokenSymbol", "type": "string"  },

        { "name": "price",            "type": "double"  },
        { "name": "priceUsd",         "type": ["null","double"], "default": null },

        { "name": "txns",             "type": "TxnsWindow" },

        { "name": "buyers",           "type": ["null","TxnsWindow"], "default": null },
        { "name": "sellers",          "type": ["null","TxnsWindow"], "default": null },
        { "name": "makers",           "type": ["null","TxnsWindow"], "default": null },

        { "name": "volume",           "type": "WindowStats" },
        { "name": "volumeBuy",        "type": "WindowStats" },
        { "name": "volumeSell",       "type": "WindowStats" },

        { "name": "priceChange",      "type": "WindowStats" },

        { "name": "liquidity",        "type": "Liquidity" },
        { "name": "marketCap",        "type": ["null","double"], "default": null },
        { "name": "fdv",              "type": ["null","double"], "default": null },

        { "name": "pairCreatedAt",    "type": ["null","long"],   "default": null },

        { "name": "profile",          "type": ["null","Profile"], "default": null },

        { "name": "isBoostable",      "type": ["null","boolean"], "default": null },
        { "name": "c",                "type": ["null","string"],  "default": null },

        { "name": "cmsProfile",       "type": ["null","string"], "default": null },
        { "name": "boosts",           "type": ["null","string"], "default": null },
        { "name": "cgi",              "type": ["null","string"], "default": null },
        { "name": "moonshot",         "type": ["null","string"], "default": null },
        { "name": "launchpad",        "type": ["null","string"], "default": null },
        { "name": "pn",               "type": ["null","string"], "default": null }
      ]
    }
  ]
}
